import{Q as Y,a as U,b as Z,c as K,C as X,d as $,T as ee,I as N,e as te,f as oe,g as V,h as ie,i as R,j as A,k as se}from"./QSelect.ae07bbdc.js";import{_ as Q,z as p,G as B,C as u,B as m,Q as H,H as J,I as ne,J as F,K as O,A as y,L as M,M as h,v as re,x as le,y as L,N as j,O as G,P as ae,R as z,S as de,T as ce,U as ue}from"./index.e6440ab3.js";import{e as P,d as he,p as me,o as ge}from"./firebase.0435990b.js";const pe={name:"CustomDropdown",props:{modelValue:{type:[String,Number],default:""},options:{type:Array,required:!0}},data(){return{isOpen:!1}},computed:{internalValue:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e),this.$emit("change",e)}}},mounted(){this.$nextTick(()=>{this.$refs.selectRef&&(this.$refs.selectRef.showPopup(),this.$nextTick(()=>{this.$refs.selectRef.hidePopup()}))})},methods:{onPopupShow(){this.isOpen=!0},onPopupHide(){this.isOpen=!1}}},fe={class:"custom-dropdown-container"},ve={class:"dropdown-selected"},ye={class:"selected-text"};function be(e,t,n,l,o,i){return p(),B("div",fe,[u(K,{ref:"selectRef",modelValue:i.internalValue,"onUpdate:modelValue":t[0]||(t[0]=s=>i.internalValue=s),options:n.options,attach:".custom-dropdown-container",dense:"","menu-props":{lazy:!0,noTeleport:!0,anchor:"bottom left",self:"top left",fit:!0},outlined:"",class:"custom-dropdown","hide-dropdown-icon":"","popup-content-class":"custom-dropdown-popup","option-label":"label","option-value":"value","emit-value":"","map-options":"",onPopupShow:i.onPopupShow,onPopupHide:i.onPopupHide},{append:m(()=>[u(H,{name:"arrow_drop_down",size:"36px",style:{color:"#fff",width:"18px"},class:J({rotated:o.isOpen})},null,8,["class"])]),option:m(s=>[u(Y,ne(s.itemProps,{class:"dropdown-option",clickable:"",onClick:a=>s.toggleOption(s.opt)}),{default:m(()=>[u(U,null,{default:m(()=>[u(Z,{class:"option-text"},{default:m(()=>[F(O(s.opt.label.toUpperCase()),1)]),_:2},1024)]),_:2},1024),s.opt.value===i.internalValue?(p(),y(U,{key:0,side:""},{default:m(()=>[u(H,{name:"lens",size:"14px",class:"selected-dot"})]),_:1})):M("",!0)]),_:2},1040,["onClick"])]),selected:m(()=>{var s;return[h("div",ve,[h("span",ye,O(i.internalValue?(s=n.options.find(a=>a.value===i.internalValue))==null?void 0:s.label.toUpperCase():""),1)])]}),_:1},8,["modelValue","options","onPopupShow","onPopupHide"])])}var Ce=Q(pe,[["render",be],["__scopeId","data-v-820fd7be"]]);const Ie={components:{CustomButton:X,CustomSlider:$,TabbedModal:ee,CustomDropdown:Ce},data(){return{imageUrl:"",isSvg:!1,creditModalVisible:!1,creditCode:"",downloadCount:0,loginModalVisible:!1,firstImage:!0,isCropping:!1,cropApplied:!1,startX:0,startY:0,currentX:0,currentY:0,originalImage:null,croppedArea:{x:0,y:0,width:0,height:0},resolution:1e4,maxResolution:100,minResolution:10,cropRectangle:null,displayImage:null,displayedWidth:0,displayedHeight:0,threshold:100,maxThreshold:255,minThreshold:1,isBinarized:!0,isLoading:!1,limitReachedDialog:!1,infoModalVisible:!1,isRotating:!1,selectedDitheringMethod:"bitmap",floydSteinbergFactor:1,atkinsonFactor:1,jarvisFactor:1,stuckiFactor:1,ditheringMethods:[{label:"Bitmap",value:"bitmap"},{label:"Floyd-Steinberg",value:"Floyd-Steinberg"},{label:"Atkinson",value:"Atkinson"},{label:"Jarvis-Judice-Ninke",value:"Jarvis-Judice-Ninke"},{label:"Stucki",value:"Stucki"},{label:"Bayer 2x2",value:"Bayer_2x2"},{label:"Bayer 4x4",value:"Bayer_4x4"},{label:"Bayer 8x8",value:"Bayer_8x8"},{label:"Clustered 4x4",value:"Clustered_4x4"},{label:"Random",value:"Random"}],tabsContent:{info:"",overview:"",promotion:"",termofuse:"",policy:""},tabs:[{name:"info",label:"Info"},{name:"promotion",label:"Credit system"},{name:"overview",label:"Overview"},{name:"termofuse",label:"Terms of Service"},{name:"policy",label:"Privacy Policy"}]}},computed:{logResolution:{get(){return Math.log(this.resolution)},set(e){this.resolution=Math.exp(e)}},logThreshold:{get(){return Math.log(this.threshold)},set(e){this.threshold=Math.exp(e)}},...re({user:e=>e.user})},methods:{...le(["fetchUser","decreaseCredits","enlargeAndVectorize","clearUser","applyCreditCode","refreshCredits"]),loadContent(){this.$api.get("/admin/content.php").then(e=>{this.tabsContent=e.data.tabsContent}).catch(e=>{console.error("Error loading content:",e)})},openCreditModal(){this.creditModalVisible=!0,this.refreshCredits()},closeCreditModal(){this.creditModalVisible=!1,this.refreshCredits()},async logout(){try{await P.signOut(),this.clearUser()}catch(e){console.error("Logout error:",e),alert("Logout failed. Please try again.")}},async applyCode(){try{const e=await this.$store.dispatch("applyCreditCode",this.creditCode);this.$q.notify({type:"positive",message:"Credits added successfully! "+e}),this.creditModalVisible=!1}catch(e){this.$q.notify({type:"negative",message:e.message})}},buyCredits(){window.open("https://designfamilymarket.gumroad.com/l/BDFM","_blank")},goToGumroad(){window.open("https://designfamilymarket.gumroad.com/","_blank")},openLoginModal(){this.loginModalVisible=!0},async loginWithGoogle(){try{const t=(await he(P,me)).user;if(!t||!t.email||!t.displayName||!t.uid){console.error("Missing user information from Google login"),alert("Login failed due to missing information. Please ensure your Google account has an email and name.");return}this.loginModalVisible=!1,this.limitReachedDialog=!1}catch(e){console.error("Login error:",e),alert("Login failed. Please try again.")}},async downloadForCoins(){if(!this.user){this.openLoginModal();return}this.isLoading=!0;try{await this.decreaseCredits({uid:this.user.uid,awaitTime:this.user.await}),await new Promise(e=>setTimeout(e,this.user.await)),this.enlargeAndVectorize()}catch(e){console.error("Credits error:",e),alert(`Connection error: ${e.message}. Please try again later.`)}finally{this.isLoading=!1}},triggerFileInput(){this.$refs.fileInput.click()},loadImageFromFile(e){const t=e.target.files[0];if(t&&t.type.startsWith("image/")){const n=new FileReader;n.onload=l=>{const o=new Image;o.onload=()=>{this.setImage(o)},o.src=l.target.result},n.readAsDataURL(t)}},onDrop(e){const t=e.dataTransfer.files[0];if(t&&t.type.startsWith("image/")){const n=new FileReader;n.onload=l=>{const o=new Image;o.onload=()=>{this.setImage(o)},o.src=l.target.result},n.readAsDataURL(t)}},setImage(e){this.firstImage=!1;const n=document.createElement("canvas"),l=n.getContext("2d");let o=e.width,i=e.height;e.width>e.height&&e.width>1e3?(o=1e3,i=e.height/e.width*1e3):e.height>e.width&&e.height>1e3&&(i=1e3,o=e.width/e.height*1e3),n.width=o,n.height=i,l.fillStyle="white",l.fillRect(0,0,n.width,n.height),l.drawImage(e,0,0,o,i);const s=new Image;s.src=n.toDataURL(),s.onload=()=>{this.originalImage=s,this.croppedArea={x:0,y:0,width:s.width,height:s.height},this.maxResolution=s.width,this.resolution=s.width>5?200:s.width,this.isBinarized=!1,this.updateDisplayImage(!0),this.isCropMode=!0},s.onerror=()=>{console.error("Error loading the image.")}},drawCanvas(e){const t=this.$refs.canvas,n=t.getContext("2d");n.imageSmoothingEnabled=!1,t.width=e.width,t.height=e.height,n.clearRect(0,0,t.width,t.height),n.drawImage(e,0,0,t.width,t.height),this.displayedWidth=t.width,this.displayedHeight=t.height},resizeAndBinarizeImage(){this.updateDisplayImage(!0)},updateDisplayImage(e=!0){if(!this.originalImage)return;const{x:t,y:n,width:l,height:o}=this.croppedArea;if(!l||!o){console.error("Cropped area is not valid.");return}const i=this.resolution,s=o/l*i,a=document.createElement("canvas"),c=a.getContext("2d");c.imageSmoothingEnabled=!1,a.width=i,a.height=s,c.clearRect(0,0,a.width,a.height);try{if(!(this.originalImage instanceof HTMLImageElement)){console.error("Original image is not a valid HTMLImageElement.");return}c.drawImage(this.originalImage,t,n,l,o,0,0,i,s)}catch(d){console.error("Error drawing image on canvas:",d);return}const r=new Image;r.src=a.toDataURL(),r.onload=()=>{if(this.displayImage=r,!this.displayImage||!(this.displayImage instanceof HTMLImageElement)){console.error("Display image is not a valid HTMLImageElement.");return}this.drawCanvas(this.displayImage),e&&this.applyDithering(),this.adjustCanvasSize()},r.onerror=()=>{console.error("Failed to load display image.")}},adjustCanvasSize(){const e=this.$refs.canvas,t=e.parentNode,n=e.width/e.height;t.clientWidth/t.clientHeight>n?(e.style.width="auto",e.style.height="100%"):(e.style.width="100%",e.style.height="auto")},applyDithering(){if(!this.displayImage)return;const e=this.$refs.canvas,t=e.getContext("2d");this.displayImage&&t.drawImage(this.displayImage,0,0);const n=t.getImageData(0,0,e.width,e.height),l=n.data,o=e.width,i=e.height;switch(this.selectedDitheringMethod){case"bitmap":this.binarizeImageSimple(l);break;case"Floyd-Steinberg":this.floydSteinbergDithering(l,o,i);break;case"Atkinson":this.atkinsonDithering(l,o,i);break;case"Jarvis-Judice-Ninke":this.jarvisJudiceNinkeDithering(l,o,i);break;case"Stucki":this.stuckiDithering(l,o,i);break;case"Bayer_2x2":this.bayerDithering(l,o,i,2);break;case"Bayer_4x4":this.bayerDithering(l,o,i,4);break;case"Bayer_8x8":this.bayerDithering(l,o,i,8);break;case"Clustered_4x4":this.clusteredDithering(l,o,i);break;case"Random":this.randomDithering(l);break}t.putImageData(n,0,0)},binarizeImageSimple(e){for(let t=0;t<e.length;t+=4)(e[t]+e[t+1]+e[t+2])/3>=this.threshold?e[t+3]=0:(e[t]=e[t+1]=e[t+2]=0,e[t+3]=255)},floydSteinbergDithering(e,t,n){const l=this.floydSteinbergFactor;for(let o=0;o<n;o++)for(let i=0;i<t;i++){const s=(o*t+i)*4,a=(e[s]+e[s+1]+e[s+2])/3,c=a<this.threshold?0:255,r=(a-c)*l;c===0?(e[s]=e[s+1]=e[s+2]=0,e[s+3]=255):e[s+3]=0,i+1<t&&this.addError(e,i+1,o,t,r*7/16),o+1<n&&(i-1>=0&&this.addError(e,i-1,o+1,t,r*3/16),this.addError(e,i,o+1,t,r*5/16),i+1<t&&this.addError(e,i+1,o+1,t,r*1/16))}},atkinsonDithering(e,t,n){const l=this.atkinsonFactor;for(let o=0;o<n;o++)for(let i=0;i<t;i++){const s=(o*t+i)*4,a=(e[s]+e[s+1]+e[s+2])/3,c=a<this.threshold?0:255,r=(a-c)*l/8;c===0?(e[s]=e[s+1]=e[s+2]=0,e[s+3]=255):e[s+3]=0,i+1<t&&this.addError(e,i+1,o,t,r),i+2<t&&this.addError(e,i+2,o,t,r),o+1<n&&(i-1>=0&&this.addError(e,i-1,o+1,t,r),this.addError(e,i,o+1,t,r),i+1<t&&this.addError(e,i+1,o+1,t,r)),o+2<n&&this.addError(e,i,o+2,t,r)}},jarvisJudiceNinkeDithering(e,t,n){const l=this.jarvisFactor;for(let o=0;o<n;o++)for(let i=0;i<t;i++){const s=(o*t+i)*4,a=(e[s]+e[s+1]+e[s+2])/3,c=a<this.threshold?0:255,r=(a-c)*l/48;c===0?(e[s]=e[s+1]=e[s+2]=0,e[s+3]=255):e[s+3]=0,i+1<t&&this.addError(e,i+1,o,t,r*7),i+2<t&&this.addError(e,i+2,o,t,r*5),o+1<n&&(i-2>=0&&this.addError(e,i-2,o+1,t,r*3),i-1>=0&&this.addError(e,i-1,o+1,t,r*5),this.addError(e,i,o+1,t,r*7),i+1<t&&this.addError(e,i+1,o+1,t,r*5),i+2<t&&this.addError(e,i+2,o+1,t,r*3)),o+2<n&&(i-2>=0&&this.addError(e,i-2,o+2,t,r*1),i-1>=0&&this.addError(e,i-1,o+2,t,r*3),this.addError(e,i,o+2,t,r*5),i+1<t&&this.addError(e,i+1,o+2,t,r*3),i+2<t&&this.addError(e,i+2,o+2,t,r*1))}},stuckiDithering(e,t,n){const l=this.stuckiFactor;for(let o=0;o<n;o++)for(let i=0;i<t;i++){const s=(o*t+i)*4,a=(e[s]+e[s+1]+e[s+2])/3,c=a<this.threshold?0:255,r=(a-c)*l/42;c===0?(e[s]=e[s+1]=e[s+2]=0,e[s+3]=255):e[s+3]=0,i+1<t&&this.addError(e,i+1,o,t,r*8),i+2<t&&this.addError(e,i+2,o,t,r*4),o+1<n&&(i-2>=0&&this.addError(e,i-2,o+1,t,r*2),i-1>=0&&this.addError(e,i-1,o+1,t,r*4),this.addError(e,i,o+1,t,r*8),i+1<t&&this.addError(e,i+1,o+1,t,r*4),i+2<t&&this.addError(e,i+2,o+1,t,r*2)),o+2<n&&(i-2>=0&&this.addError(e,i-2,o+2,t,r*1),i-1>=0&&this.addError(e,i-1,o+2,t,r*2),this.addError(e,i,o+2,t,r*4),i+1<t&&this.addError(e,i+1,o+2,t,r*2),i+2<t&&this.addError(e,i+2,o+2,t,r*1))}},bayerDithering(e,t,n,l){let o;l===2?o=[[0,2],[3,1]]:l===4?o=[[0,8,2,10],[12,4,14,6],[3,11,1,9],[15,7,13,5]]:o=[[0,48,12,60,3,51,15,63],[32,16,44,28,35,19,47,31],[8,56,4,52,11,59,7,55],[40,24,36,20,43,27,39,23],[2,50,14,62,1,49,13,61],[34,18,46,30,33,17,45,29],[10,58,6,54,9,57,5,53],[42,26,38,22,41,25,37,21]];const i=255/(l*l);for(let s=0;s<n;s++)for(let a=0;a<t;a++){const c=(s*t+a)*4,r=(e[c]+e[c+1]+e[c+2])/3,d=o[s%l][a%l]*i+(this.threshold-128);(r<d?0:255)===0?(e[c]=e[c+1]=e[c+2]=0,e[c+3]=255):e[c+3]=0}},clusteredDithering(e,t,n){const l=[[8,3,4],[6,1,2],[7,5,9]],o=255/9;for(let i=0;i<n;i++)for(let s=0;s<t;s++){const a=(i*t+s)*4,c=(e[a]+e[a+1]+e[a+2])/3,r=l[i%3][s%3]*o+(this.threshold-128);(c<r?0:255)===0?(e[a]=e[a+1]=e[a+2]=0,e[a+3]=255):e[a+3]=0}},randomDithering(e){for(let t=0;t<e.length;t+=4){const n=(e[t]+e[t+1]+e[t+2])/3,l=(Math.random()-.5)*50;(n<this.threshold+l?0:255)===0?(e[t]=e[t+1]=e[t+2]=0,e[t+3]=255):e[t+3]=0}},addError(e,t,n,l,o){const i=(n*l+t)*4;e[i]=Math.max(0,Math.min(255,e[i]+o)),e[i+1]=Math.max(0,Math.min(255,e[i+1]+o)),e[i+2]=Math.max(0,Math.min(255,e[i+2]+o))},optimizeSvgPaths(e){const n=new DOMParser().parseFromString(e,"image/svg+xml");let l=Array.from(n.querySelectorAll("path")),o="";l=l.filter(r=>r.getAttribute("opacity")!=="0"),l.forEach(r=>{let _=r.getAttribute("d").match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g);if(!_)return;let f=[],g=[],b=null,v=null;function E(C,I,D){const[w,x]=C,[S,T]=I,[W,q]=D;return w===S&&S===W||x===T&&T===q}for(let C=0;C<_.length;C++){const I=_[C],D=I[0];let w=I.slice(1).trim().split(/[ ,]+/).map(parseFloat);if(D==="M")v=w,b=w,f.push(`M ${w.join(" ")}`),g=[w];else if(D==="L"){if(g.push(w),g.length===3)if(E(g[0],g[1],g[2]))g.splice(1,1);else{const[x,S]=g.shift();(x!==b[0]||S!==b[1])&&f.push(`L ${x} ${S}`)}}else if(D==="Z"){g.push(v),g.length===3&&E(g[0],g[1],g[2])&&g.splice(1,1);const x=g[g.length-1];x[0]===v[0]&&x[1]===v[1]&&g.pop(),g.forEach(([S,T])=>{f.push(`L ${S} ${T}`)}),f.push("Z"),g=[]}else f.push(I)}g.length>0&&!f.includes("Z")&&g.forEach(([C,I])=>{f.push(`L ${C} ${I}`)}),o+=" "+f.join(" ")});const s=e.match(/<svg[^>]*>/)[0].replace(/desc="[^"]*"\s*/,"");let a=n.querySelector("desc");if(a)a.textContent="Vectorized and refined by BDFM | https://bitmap.designfamilymarket.com";else{const r=n.createElement("desc");r.textContent="Vectorized and refined by BDFM | https://bitmap.designfamilymarket.com",n.documentElement.insertBefore(r,n.documentElement.firstChild)}return`${s}<desc>Binarized and Traced by BDFM https://bitmap.designfamilymarket.com/</desc><path fill="rgb(0,0,0)" d="${o.trim()}" /></svg>`},enlargeAndVectorize(){const e=this.$refs.canvas;e.getContext("2d");const t=e.width,n=e.height,l=2,o=document.createElement("canvas"),i=o.getContext("2d");o.width=t*l,o.height=n*l,i.imageSmoothingEnabled=!1,i.drawImage(e,0,0,t,n,0,0,o.width,o.height);const s=N.getImgdata(o),a=Math.min(o.width,o.height),r=2500/a,d={ltres:.001,qtres:-1,pathomit:0,rightangleenhance:!0,strokewidth:0,linefilter:!0,scale:r,roundcoords:0,viewbox:!1,desc:!1},_=N.imagedataToSVG(s,d),f=this.optimizeSvgPaths(_),g=new Blob([f],{type:"image/svg+xml"}),b=document.createElement("a");b.href=URL.createObjectURL(g);const v=new Date,E=`BDFM_${v.getFullYear()}_${String(v.getMonth()+1).padStart(2,"0")}_${String(v.getDate()).padStart(2,"0")}_${String(v.getHours()).padStart(2,"0")}_${String(v.getMinutes()).padStart(2,"0")}`;b.download=`${E}.svg`,document.body.appendChild(b),b.click(),document.body.removeChild(b)},downloadRasterImage(){this.user?(this.processDownload(),this.$store.dispatch("incrementPngs",{uid:this.user.uid}).then(()=>{}).catch(e=>{})):this.downloadCount<10?(this.processDownload(),this.downloadCount++,localStorage.setItem("downloadCount",this.downloadCount.toString())):this.openLoginModal()},processDownload(){const e=new Date,t=`BDFM_${e.getFullYear()}_${String(e.getMonth()+1).padStart(2,"0")}_${String(e.getDate()).padStart(2,"0")}_${String(e.getHours()).padStart(2,"0")}_${String(e.getMinutes()).padStart(2,"0")}`,n=this.$refs.canvas,l=800/n.width,o=document.createElement("canvas"),i=o.getContext("2d");o.width=800,o.height=n.height*l,i.imageSmoothingEnabled=!1,i.drawImage(n,0,0,n.width,n.height,0,0,o.width,o.height),o.toBlob(s=>{const a=URL.createObjectURL(s),c=document.createElement("a");c.href=a,c.download=`${t}.png`,c.click(),URL.revokeObjectURL(a)},"image/png")},initializeDownloadCount(){const e=localStorage.getItem("downloadCount");e!==null?this.downloadCount=parseInt(e,10):localStorage.setItem("downloadCount","0")},loadInitialImage(){this.logResolution=0;const e=new Image;e.onload=()=>{this.setImage(e)},e.src="start.jpg"},showNotification(){this.$q.notify({message:"You can drag'n'drop your image on the field",color:"black",textColor:"white",position:"top-right",timeout:3e3,actions:[{icon:"close",color:"white"}],classes:"custom-notify-position"})},initializeAuthState(){ge(P,async e=>{if(e)try{await this.fetchUser({uid:e.uid,name:e.displayName,email:e.email})}catch(t){console.error("Failed to fetch or create user:",t)}else this.clearUser()})},openInfoModal(){this.infoModalVisible=!0}},mounted(){this.loadContent(),this.initializeAuthState(),this.initializeDownloadCount(),this.showNotification(),this.loadInitialImage(),window.addEventListener("resize",this.adjustCanvasSize),this.adjustCanvasSize(),this.downloadCount=parseInt(localStorage.getItem("downloadCount"))||0},beforeUnmount(){window.removeEventListener("resize",this.adjustCanvasSize)}},k=e=>(ce("data-v-e3bf243c"),e=e(),ue(),e),we={class:"layout-container"},xe={class:"sidebar"},Se={class:"logo_img text-h6"},Me={href:"/"},ke={class:"logo_title"},_e={key:0,class:"dithering-select toolbar_item"},De=k(()=>h("span",{class:"slider_title"},"DITHERING METHOD:",-1)),Ae=k(()=>h("div",{class:"spacer",style:{width:"100%",height:"42px","min-height":"42px"}},null,-1)),Ee=k(()=>h("div",{class:"spacer",style:{width:"100%",height:"42px","min-height":"42px"}},null,-1)),Te={class:"main-content"},Ve={key:0,class:"dragndroptitle"},Le=k(()=>h("div",{class:"text-h6"},"Creating your svg...",-1)),Fe=k(()=>h("div",{class:"text-h6"},"Login with Google",-1)),Re=["innerHTML"],ze=["innerHTML"],Pe=["innerHTML"],Be=["innerHTML"],Ue=["innerHTML"],Ne={class:"row items-center justify-between"},He=k(()=>h("div",{class:"text-h6 q-pa-md"},"Add credits",-1)),Oe=k(()=>h("div",{class:"copyright"},[F(" \xA9 2025 "),h("a",{href:"mailto:yasins.yar@gmail.com"},"YasYar")],-1));function je(e,t,n,l,o,i){const s=L("CustomButton"),a=L("CustomSlider"),c=L("CustomDropdown"),r=L("TabbedModal");return p(),y(te,{class:"q-pa-none"},{default:m(()=>[h("div",we,[h("div",xe,[u(V,{flat:"",class:"q-pa-md",style:{"max-height":"100%","overflow-y":"auto",width:"100%"}},{default:m(()=>[h("div",Se,[h("a",Me,[u(oe,{src:"/assets/logo.png","spinner-color":"white",style:{"max-width":"100%"},fit:"contain",class:J({"rotate-image":o.isRotating})},null,8,["class"])])]),h("div",ke,[F("BITMA"),h("span",{onClick:t[0]||(t[0]=d=>o.isRotating=!o.isRotating)},"P"),F(" DESIGNFAMILYMARKET")]),u(s,{clickAction:i.triggerFileInput,upperText:"PNG, JPG, WEBP:",buttonText:"UPLOAD",iconName:"arrow_drop_up",iconSrc:"/assets/icons/Asset 1.svg",iconColor:"#fff",isInverted:!1},null,8,["clickAction"]),h("input",{class:"button",type:"file",onChange:t[1]||(t[1]=(...d)=>i.loadImageFromFile&&i.loadImageFromFile(...d)),hidden:"",ref:"fileInput",accept:"image/*"},null,544),u(a,{modelValue:i.logResolution,"onUpdate:modelValue":t[2]||(t[2]=d=>i.logResolution=d),min:o.minResolution,max:o.maxResolution,step:.01,changeAction:i.resizeAndBinarizeImage,title:"SIZE:",show:!!o.originalImage},null,8,["modelValue","min","max","changeAction","show"]),u(a,{modelValue:i.logThreshold,"onUpdate:modelValue":t[3]||(t[3]=d=>i.logThreshold=d),min:o.minThreshold,max:o.maxThreshold,step:.01,changeAction:i.resizeAndBinarizeImage,title:"THRESHOLD:",show:!!o.originalImage},null,8,["modelValue","min","max","changeAction","show"]),o.originalImage?(p(),B("div",_e,[De,u(c,{modelValue:o.selectedDitheringMethod,"onUpdate:modelValue":t[4]||(t[4]=d=>o.selectedDitheringMethod=d),options:o.ditheringMethods,onChange:i.resizeAndBinarizeImage},null,8,["modelValue","options","onChange"])])):M("",!0),o.selectedDitheringMethod==="Floyd-Steinberg"?(p(),y(a,{key:1,modelValue:o.floydSteinbergFactor,"onUpdate:modelValue":t[5]||(t[5]=d=>o.floydSteinbergFactor=d),min:.1,max:2,step:.01,changeAction:i.resizeAndBinarizeImage,title:"FLOYD FACTOR:",show:!!o.originalImage},null,8,["modelValue","changeAction","show"])):M("",!0),o.selectedDitheringMethod==="Atkinson"?(p(),y(a,{key:2,modelValue:o.atkinsonFactor,"onUpdate:modelValue":t[6]||(t[6]=d=>o.atkinsonFactor=d),min:.1,max:2,step:.01,changeAction:i.resizeAndBinarizeImage,title:"ATKINSON FACTOR:",show:!!o.originalImage},null,8,["modelValue","changeAction","show"])):M("",!0),o.selectedDitheringMethod==="Jarvis-Judice-Ninke"?(p(),y(a,{key:3,modelValue:o.jarvisFactor,"onUpdate:modelValue":t[7]||(t[7]=d=>o.jarvisFactor=d),min:.1,max:2,step:.01,changeAction:i.resizeAndBinarizeImage,title:"JARVIS FACTOR:",show:!!o.originalImage},null,8,["modelValue","changeAction","show"])):M("",!0),o.selectedDitheringMethod==="Stucki"?(p(),y(a,{key:4,modelValue:o.stuckiFactor,"onUpdate:modelValue":t[8]||(t[8]=d=>o.stuckiFactor=d),min:.1,max:2,step:.01,changeAction:i.resizeAndBinarizeImage,title:"STUCKI FACTOR:",show:!!o.originalImage},null,8,["modelValue","changeAction","show"])):M("",!0),Ae,e.user?(p(),y(s,{key:5,clickAction:i.openCreditModal,upperText:"",buttonText:"ADD CREDITS",iconName:"",isInverted:!0,style:{"margin-bottom":"12px"}},null,8,["clickAction"])):(p(),y(s,{key:6,clickAction:i.goToGumroad,upperText:"",buttonText:"SHOP",iconName:"",isInverted:!0,style:{"margin-bottom":"12px"}},null,8,["clickAction"])),u(s,{clickAction:i.openInfoModal,upperText:"",buttonText:"INFO",iconName:"",isInverted:!0,style:{"margin-bottom":"12px"}},null,8,["clickAction"]),e.user?(p(),y(s,{key:7,clickAction:i.logout,upperText:"",buttonText:"LOG OUT",iconName:"arrow_right",iconSrc:"/assets/icons/Asset 3.svg",isInverted:!0},null,8,["clickAction"])):(p(),y(s,{key:8,clickAction:i.openLoginModal,upperText:"",buttonText:"LOG IN",iconName:"arrow_left",iconSrc:"/assets/icons/Asset 3.svg",isInverted:!0},null,8,["clickAction"])),Ee,u(s,{clickAction:i.downloadForCoins,"additional-field":e.user?Number(e.user.credits):-1,upperText:e.user?"CREDITS":"LOG IN FOR SVG",buttonText:"SVG",iconName:e.user?"arrow_drop_down":"",iconColor:"#fff",iconSrc:e.user?"/assets/icons/Asset 1.svg":"",isInverted:!e.user,style:{"margin-bottom":"7px"}},null,8,["clickAction","additional-field","upperText","iconName","iconSrc","isInverted"]),u(s,{clickAction:i.downloadRasterImage,upperText:e.user?"UNLIMITED":`${10-o.downloadCount} LEFT BEFORE LOG IN`,buttonText:"PNG",iconSrc:"/assets/icons/Asset 1.svg",iconName:"arrow_drop_down",iconColor:"#fff",isInverted:o.isSvg,style:{"margin-bottom":"16px"}},null,8,["clickAction","upperText","isInverted"])]),_:1})]),h("div",Te,[h("div",{class:"drop-zone",onDrop:t[13]||(t[13]=j((...d)=>i.onDrop&&i.onDrop(...d),["prevent"])),onDragover:t[14]||(t[14]=j(()=>{},["prevent"]))},[!o.displayImage||o.firstImage?(p(),B("p",Ve,"Drag and drop an image here")):M("",!0),G(h("canvas",{ref:"canvas",onMousedown:t[9]||(t[9]=(...d)=>e.onMouseDown&&e.onMouseDown(...d)),onMousemove:t[10]||(t[10]=(...d)=>e.onMouseMove&&e.onMouseMove(...d)),onMouseup:t[11]||(t[11]=(...d)=>e.onMouseUp&&e.onMouseUp(...d)),onMouseleave:t[12]||(t[12]=(...d)=>e.onMouseLeave&&e.onMouseLeave(...d))},null,544),[[ae,o.displayImage]])],32)]),u(R,{class:"modal-loading modal",modelValue:o.isLoading,"onUpdate:modelValue":t[15]||(t[15]=d=>o.isLoading=d)},{default:m(()=>[u(V,{class:"q-pa-md"},{default:m(()=>[Le,u(ie,{indeterminate:"",color:"primary"})]),_:1})]),_:1},8,["modelValue"]),u(R,{class:"modal-login",modelValue:o.loginModalVisible,"onUpdate:modelValue":t[16]||(t[16]=d=>o.loginModalVisible=d)},{default:m(()=>[u(V,null,{default:m(()=>[u(A,null,{default:m(()=>[Fe]),_:1}),u(A,null,{default:m(()=>[u(z,{label:"Enter with Google",color:"black",onClick:i.loginWithGoogle},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),u(r,{tabs:o.tabs,modelValue:o.infoModalVisible,"onUpdate:modelValue":t[17]||(t[17]=d=>o.infoModalVisible=d)},{info:m(()=>[h("div",{class:"useful-info",innerHTML:o.tabsContent.info},null,8,Re)]),overview:m(()=>[h("div",{class:"useful-info",innerHTML:o.tabsContent.overview},null,8,ze)]),promotion:m(()=>[h("div",{class:"useful-info",innerHTML:o.tabsContent.promotion},null,8,Pe)]),termofuse:m(()=>[h("div",{class:"term-of-use",innerHTML:o.tabsContent.termofuse},null,8,Be)]),policy:m(()=>[h("div",{class:"privacy-policy",innerHTML:o.tabsContent.policy},null,8,Ue)]),_:1},8,["tabs","modelValue"]),u(R,{class:"modal-credits modal",modelValue:o.creditModalVisible,"onUpdate:modelValue":t[20]||(t[20]=d=>o.creditModalVisible=d)},{default:m(()=>[u(V,null,{default:m(()=>[u(A,{class:"q-pa-none"},{default:m(()=>[h("div",Ne,[He,u(z,{style:{"margin-top":"-28px","border-radius":"50%"},flat:"",dense:"",icon:"close",onClick:i.closeCreditModal,"aria-label":"Close"},null,8,["onClick"])])]),_:1}),u(A,null,{default:m(()=>[G(h("input",{type:"text","onUpdate:modelValue":t[18]||(t[18]=d=>o.creditCode=d),placeholder:"Enter your code",class:"custom-input"},null,512),[[de,o.creditCode]])]),_:1}),u(se,{align:"right"},{default:m(()=>[u(z,{label:"Submit",color:"black",size:"24",onClick:i.applyCode},null,8,["onClick"])]),_:1}),u(A,null,{default:m(()=>[h("a",{href:"#",class:"buymore",onClick:t[19]||(t[19]=(...d)=>i.buyCredits&&i.buyCredits(...d))},"Buy more credits")]),_:1})]),_:1})]),_:1},8,["modelValue"])]),Oe]),_:1})}var We=Q(Ie,[["render",je],["__scopeId","data-v-e3bf243c"]]);export{We as default};
